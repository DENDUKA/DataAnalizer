{
  "task_description": "# Разработать сервис , который находит все завершенные рынки типа «Bitcoin price on [Date]» и выгружает поминутную/почасовую историю цен (вероятностей) для исхода «Yes». на языке C#\n\nПоиск рынков (Discovery):\n\nИспользовать Gamma API для поиска всех событий (events), соответствующих паттерну названия или тегу (например, тег \"Crypto\" или поиск по строке \"Bitcoin price on\").\n\nФильтровать только закрытые (closed=true) и архивные рынки.\n\nПолучение идентификаторов (Market IDs):\n\nДля каждого найденного события извлечь список рынков (markets).\n\nИз каждого рынка получить clobTokenIds (это уникальные ID токенов для исхода \"Yes\" и \"No\").\n\nЗапрос истории цен (History Fetching):\n\nИспользовать CLOB API (endpoint /prices-history) для каждого найденного clobTokenId исхода «Yes».\n\nПараметры запроса: market=<token_id>, interval=1h (или max), fidelity=60.\n\nСохранение данных:\n\nАгрегировать данные в формат CSV или JSON: Timestamp | Market Name | Price (Probability).\n\nRationale\n. Ключевые требования к ИИОбработка пагинации: Gamma API возвращает данные порциями. Нужно реализовать цикл с offset, чтобы собрать абсолютно все прошлые рынки.Конвертация вероятностей: Цена на Polymarket $0.65$ эквивалентна вероятности $65%$.Rate Limiting: Добавить задержки (Task.Delay) между запросами к CLOB API, чтобы избежать блокировки (429 Too Many Requests).\n\nУчитывать рынки , для которых уже собрали данные , и их больше не запрашивать\n\nсервис на C#\n\n## Rationale\nUser-created feature for Разработать сервис , который находит все завершенные рынки типа «Bitcoin price on [Date]» и выгружает поминутную/почасовую историю цен (вероятностей) для исхода «Yes». на языке C#\n\n## User Stories\nN/A\n\n## Acceptance Criteria\nN/A\n",
  "workflow_type": "feature"
}